@import "../styles/common";

:root {
	--Post-padding--vertical: 1em;
	--Post-padding--verticalCompact: 0.9em;
}

.post {
	--PostContent-margin: 0.6em;

	/* Textual content has some inherent bottom spacing due to line height.
	   Other content (attachment thumbnails, embedded pictures and videos)
	   doesn't have such extra visual spacing. Therefore reduce it for text. */
	--Post-textLineHeightBottomSpace: 0.25em;

	/* Long hyperlinks can overflow post on small screens.
	   (for example, on mobile devices)
	   `overflow-wrap` in combination with `word-break` fixes that
	   by forcing word breaks on overflow.
	   https://stackoverflow.com/questions/17259916/difference-between-overflow-wrap-and-word-break
	   https://developer.mozilla.org/en-US/docs/Web/CSS/overflow-wrap
	   https://developer.mozilla.org/en-US/docs/Web/CSS/word-break */
	overflow-wrap: break-word;
	word-break: break-word;

	/* When selecting text <br/>s also get selected
	   which results in a bit of a visual clutter.
	   (for example, in the end of `<PostInlineQuote/>`
	   when a `<Post/>` has `.content-section` CSS class).
	   `font-size: 0` doesn't affect the height of `<br/>`
	   but it removes the visual selection from it. */
	br {
		font-size: 0;
	}
}

.post--compact {
	--Post-padding--vertical: var(--Post-padding--verticalCompact)
}

.post--stretch {
	display: flex;
	flex-direction: column;
}

.post__stretch {
	flex: auto;
}

.post__content {
	/*margin-bottom: calc(-1 * var(--PostContent-margin));*/
	font-family: var(--Text-fontFamily);
}

/* For play video icon. */
.post__video .rrui__video {
	&:hover {
		.rrui__video__play-icon-background {
			fill: rgba(0, 0, 0, 0.8);
		}
	}
}

.post__spoiler-bar {
	position: absolute;
	width: 100%;
	left: 0;
	bottom: 0;
	display: flex;
	justify-content: center;
	overflow: hidden;
	padding-bottom: 0.15em;
	padding-top: 0.15em;
	background: var(--gray-color-900);
	color: var(--white-color);
	font-family: var(--Document-fontFamily);
	font-weight: 300;
	text-transform: uppercase;
	letter-spacing: 0.1em;
	opacity: 0.75;
}

.on-click--active {
	--Content-backgroundColor: var(--Content-backgroundColor--active);
	--PostInlineSpoiler-color: var(--PostInlineSpoiler-color--contentActive);
	--PostInlineSpoiler-color--censored: var(--PostInlineSpoiler-color--censoredContentActive);

	.post, .post__inline-spoiler {
		transition: background-color 60ms;
	}
}
