@import "../styles/common";

:root
{
	--slideshow-button-size-small  : calc(var(--unit) * 2);
	--slideshow-button-size-medium : calc(var(--unit) * 3);
	--slideshow-button-size-big    : calc(var(--unit) * 4);

	--slideshow-button-margin-small : calc(var(--unit) / 2);
	--slideshow-button-margin       : var(--unit);
}

.slideshow
{
	background-color : rgba(0,0,0,0.875);

	/* Slideshow is focused upon opening. */
	outline : none;

	/* Only allows single-finger vertical panning gestures. */
	/* (disable all other touch gestures). */
	/* Don't know what exactly does it do. */
	/* Just copy-pasted it from Instagram. */
	touch-action : pan-y;
}

.slideshow--fullscreen
{
	position : fixed;
	left     : 0;
	right    : 0;
	top      : 0;
	bottom   : 0;
}

.slideshow__slides
{
	display : flex;
	align-items : center;
	justify-content : flex-start;

	width : 100%;
	height : 100%;

	list-style : none;
	padding : 0;
	margin : 0;

	/* For touch paging. */
	transition-property : transform;
}

.slideshow__slide
{
	flex : 0 0 100%;
	height : 100%;
}

.slideshow__slides--dragging
{
	transition-duration: 0s;
	transform: translateX(-600px);
}

.slideshow__slides--released
{
	transition-duration: 0.01234s;
	transform: translateX(-789px);
}

.slideshow__picture
{
	height : 100%;

	display : flex;
	align-items : center;
	justify-content : center;

	transition : transform 120ms ease-out;
}

/*
`cursor : pointer` doesn't really work here,
because `object-fit` is set to `contain` or `scale-down` here,
and so cursor would be shown as a pointer even outside the actual image.
.slideshow__picture .picture__image
{
	cursor : pointer;
}
*/

.slideshow--panning .slideshow__picture .picture__image
{
	cursor : grabbing;
}

.slideshow__picture .picture__loading
{
	color : var(--white-color);
}

.slideshow__actions-top-right
{
	position : absolute;
	top    : var(--slideshow-button-margin);
	right  : var(--slideshow-button-margin);

	margin : 0;
	padding : 0;
	list-style : none;
	line-height : 0;

	display : flex;

	@mixin xs-small
	{
		top    : var(--slideshow-button-margin-small);
		right  : var(--slideshow-button-margin-small);
	}
}

.slideshow__actions-bottom
{
	position : absolute;
	left   : 0;
	bottom : var(--slideshow-button-margin);

	width  : 100%;

	display : flex;
	justify-content : center;

	padding : 0;
	margin  : 0;

	@mixin xs-small
	{
		bottom : var(--slideshow-button-margin-small);
	}
}

.slideshow__action
{
	display  : block;
	position : relative;

	width  : var(--slideshow-button-size-medium);
	height : var(--slideshow-button-size-medium);

	border-radius : 50%;
	background-color : rgba(0,0,0,0.7);
	color : var(--white-color);

	@mixin xl
	{
		width  : var(--slideshow-button-size-big);
		height : var(--slideshow-button-size-big);
	}

	@mixin xs-small
	{
		width  : var(--slideshow-button-size-small);
		height : var(--slideshow-button-size-small);
	}
}

.slideshow__actions-top-right .slideshow__action
{
	margin-left : var(--slideshow-button-margin);

	@mixin xs-small
	{
		margin-left : var(--slideshow-button-margin-small);
	}
}

.slideshow__actions-bottom .slideshow__action,
.slideshow__actions-bottom .slideshow__action-group
{
	margin-left  : var(--slideshow-button-margin);
	margin-right : var(--slideshow-button-margin);

	@mixin xs-small
	{
		margin-left  : var(--slideshow-button-margin-small);
		margin-right : var(--slideshow-button-margin-small);
	}
}

.slideshow__action:hover {
	background-color : var(--base-color);
}

.slideshow__action:active {
	background-color : var(--base-color);
}

.slideshow__action-icon
{
	position : absolute;
	top      : 25%;
	left     : 25%;
	width    : 50%;
}

.slideshow__action-group
{
	display: flex;
}

.slideshow__action-group .slideshow__action
{
	margin : 0;
	border-radius : 0;

	&:first-child
	{
		border-top-left-radius    : 50%;
		border-bottom-left-radius : 50%;
	}

	&:last-child
	{
		border-top-right-radius    : 50%;
		border-bottom-right-radius : 50%;
	}
}

.slideshow__previous,
.slideshow__next
{
	position  : absolute;
	top       : 50%;
	margin-left  : var(--slideshow-button-margin);
	margin-right : var(--slideshow-button-margin);
	transform : translateY(-50%);

	@mixin xs-small
	{
		margin-left  : var(--slideshow-button-margin-small);
		margin-right : var(--slideshow-button-margin-small);
	}
}

.slideshow__previous
{
	left : 0;
}

.slideshow__next
{
	right : 0;
}